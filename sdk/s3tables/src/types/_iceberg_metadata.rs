// Code generated by software.amazon.smithy.rust.codegen.smithy-rs. DO NOT EDIT.

/// <p>Contains details about the metadata for an Iceberg table.</p>
#[non_exhaustive]
#[derive(::std::clone::Clone, ::std::cmp::PartialEq, ::std::fmt::Debug)]
pub struct IcebergMetadata {
    /// <p>The schema for an Iceberg table.</p>
    pub schema: ::std::option::Option<crate::types::IcebergSchema>,
    /// <p>The partition specification for the Iceberg table. Partitioning organizes data into separate files based on the values of one or more fields, which can improve query performance by reducing the amount of data scanned. Each partition field applies a transform (such as identity, year, month, or bucket) to a single field.</p>
    pub partition_spec: ::std::option::Option<crate::types::IcebergPartitionSpec>,
    /// <p>The sort order for the Iceberg table. Sort order defines how data is sorted within data files, which can improve query performance by enabling more efficient data skipping and filtering.</p>
    pub write_order: ::std::option::Option<crate::types::IcebergSortOrder>,
    /// <p>A map of custom configuration properties for the Iceberg table.</p>
    pub properties: ::std::option::Option<::std::collections::HashMap<::std::string::String, ::std::string::String>>,
}
impl IcebergMetadata {
    /// <p>The schema for an Iceberg table.</p>
    pub fn schema(&self) -> ::std::option::Option<&crate::types::IcebergSchema> {
        self.schema.as_ref()
    }
    /// <p>The partition specification for the Iceberg table. Partitioning organizes data into separate files based on the values of one or more fields, which can improve query performance by reducing the amount of data scanned. Each partition field applies a transform (such as identity, year, month, or bucket) to a single field.</p>
    pub fn partition_spec(&self) -> ::std::option::Option<&crate::types::IcebergPartitionSpec> {
        self.partition_spec.as_ref()
    }
    /// <p>The sort order for the Iceberg table. Sort order defines how data is sorted within data files, which can improve query performance by enabling more efficient data skipping and filtering.</p>
    pub fn write_order(&self) -> ::std::option::Option<&crate::types::IcebergSortOrder> {
        self.write_order.as_ref()
    }
    /// <p>A map of custom configuration properties for the Iceberg table.</p>
    pub fn properties(&self) -> ::std::option::Option<&::std::collections::HashMap<::std::string::String, ::std::string::String>> {
        self.properties.as_ref()
    }
}
impl IcebergMetadata {
    /// Creates a new builder-style object to manufacture [`IcebergMetadata`](crate::types::IcebergMetadata).
    pub fn builder() -> crate::types::builders::IcebergMetadataBuilder {
        crate::types::builders::IcebergMetadataBuilder::default()
    }
}

/// A builder for [`IcebergMetadata`](crate::types::IcebergMetadata).
#[derive(::std::clone::Clone, ::std::cmp::PartialEq, ::std::default::Default, ::std::fmt::Debug)]
#[non_exhaustive]
pub struct IcebergMetadataBuilder {
    pub(crate) schema: ::std::option::Option<crate::types::IcebergSchema>,
    pub(crate) partition_spec: ::std::option::Option<crate::types::IcebergPartitionSpec>,
    pub(crate) write_order: ::std::option::Option<crate::types::IcebergSortOrder>,
    pub(crate) properties: ::std::option::Option<::std::collections::HashMap<::std::string::String, ::std::string::String>>,
}
impl IcebergMetadataBuilder {
    /// <p>The schema for an Iceberg table.</p>
    /// This field is required.
    pub fn schema(mut self, input: crate::types::IcebergSchema) -> Self {
        self.schema = ::std::option::Option::Some(input);
        self
    }
    /// <p>The schema for an Iceberg table.</p>
    pub fn set_schema(mut self, input: ::std::option::Option<crate::types::IcebergSchema>) -> Self {
        self.schema = input;
        self
    }
    /// <p>The schema for an Iceberg table.</p>
    pub fn get_schema(&self) -> &::std::option::Option<crate::types::IcebergSchema> {
        &self.schema
    }
    /// <p>The partition specification for the Iceberg table. Partitioning organizes data into separate files based on the values of one or more fields, which can improve query performance by reducing the amount of data scanned. Each partition field applies a transform (such as identity, year, month, or bucket) to a single field.</p>
    pub fn partition_spec(mut self, input: crate::types::IcebergPartitionSpec) -> Self {
        self.partition_spec = ::std::option::Option::Some(input);
        self
    }
    /// <p>The partition specification for the Iceberg table. Partitioning organizes data into separate files based on the values of one or more fields, which can improve query performance by reducing the amount of data scanned. Each partition field applies a transform (such as identity, year, month, or bucket) to a single field.</p>
    pub fn set_partition_spec(mut self, input: ::std::option::Option<crate::types::IcebergPartitionSpec>) -> Self {
        self.partition_spec = input;
        self
    }
    /// <p>The partition specification for the Iceberg table. Partitioning organizes data into separate files based on the values of one or more fields, which can improve query performance by reducing the amount of data scanned. Each partition field applies a transform (such as identity, year, month, or bucket) to a single field.</p>
    pub fn get_partition_spec(&self) -> &::std::option::Option<crate::types::IcebergPartitionSpec> {
        &self.partition_spec
    }
    /// <p>The sort order for the Iceberg table. Sort order defines how data is sorted within data files, which can improve query performance by enabling more efficient data skipping and filtering.</p>
    pub fn write_order(mut self, input: crate::types::IcebergSortOrder) -> Self {
        self.write_order = ::std::option::Option::Some(input);
        self
    }
    /// <p>The sort order for the Iceberg table. Sort order defines how data is sorted within data files, which can improve query performance by enabling more efficient data skipping and filtering.</p>
    pub fn set_write_order(mut self, input: ::std::option::Option<crate::types::IcebergSortOrder>) -> Self {
        self.write_order = input;
        self
    }
    /// <p>The sort order for the Iceberg table. Sort order defines how data is sorted within data files, which can improve query performance by enabling more efficient data skipping and filtering.</p>
    pub fn get_write_order(&self) -> &::std::option::Option<crate::types::IcebergSortOrder> {
        &self.write_order
    }
    /// Adds a key-value pair to `properties`.
    ///
    /// To override the contents of this collection use [`set_properties`](Self::set_properties).
    ///
    /// <p>A map of custom configuration properties for the Iceberg table.</p>
    pub fn properties(mut self, k: impl ::std::convert::Into<::std::string::String>, v: impl ::std::convert::Into<::std::string::String>) -> Self {
        let mut hash_map = self.properties.unwrap_or_default();
        hash_map.insert(k.into(), v.into());
        self.properties = ::std::option::Option::Some(hash_map);
        self
    }
    /// <p>A map of custom configuration properties for the Iceberg table.</p>
    pub fn set_properties(mut self, input: ::std::option::Option<::std::collections::HashMap<::std::string::String, ::std::string::String>>) -> Self {
        self.properties = input;
        self
    }
    /// <p>A map of custom configuration properties for the Iceberg table.</p>
    pub fn get_properties(&self) -> &::std::option::Option<::std::collections::HashMap<::std::string::String, ::std::string::String>> {
        &self.properties
    }
    /// Consumes the builder and constructs a [`IcebergMetadata`](crate::types::IcebergMetadata).
    pub fn build(self) -> crate::types::IcebergMetadata {
        crate::types::IcebergMetadata {
            schema: self.schema,
            partition_spec: self.partition_spec,
            write_order: self.write_order,
            properties: self.properties,
        }
    }
}
