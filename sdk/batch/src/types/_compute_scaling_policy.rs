// Code generated by software.amazon.smithy.rust.codegen.smithy-rs. DO NOT EDIT.

/// <p>An object that represents a scaling policy for a compute environment.</p>
#[non_exhaustive]
#[derive(::std::clone::Clone, ::std::cmp::PartialEq, ::std::fmt::Debug)]
pub struct ComputeScalingPolicy {
    /// <p>The minimum time (in minutes) that Batch keeps instances running in the compute environment after their jobs complete. For each instance, the delay period begins when the last job finishes. If no new jobs are placed on the instance during this delay, Batch terminates the instance once the delay expires.</p>
    /// <p>Valid Range: Minimum value of 20. Maximum value of 10080. Use 0 to unset and disable the scale down delay.</p><note>
    /// <p>The scale down delay does not apply to:</p>
    /// <ul>
    /// <li>
    /// <p>Instances being replaced during infrastructure updates</p></li>
    /// <li>
    /// <p>Newly launched instances that have not yet run any jobs</p></li>
    /// <li>
    /// <p>Spot instances reclaimed due to interruption</p></li>
    /// </ul>
    /// </note>
    pub min_scale_down_delay_minutes: ::std::option::Option<i32>,
}
impl ComputeScalingPolicy {
    /// <p>The minimum time (in minutes) that Batch keeps instances running in the compute environment after their jobs complete. For each instance, the delay period begins when the last job finishes. If no new jobs are placed on the instance during this delay, Batch terminates the instance once the delay expires.</p>
    /// <p>Valid Range: Minimum value of 20. Maximum value of 10080. Use 0 to unset and disable the scale down delay.</p><note>
    /// <p>The scale down delay does not apply to:</p>
    /// <ul>
    /// <li>
    /// <p>Instances being replaced during infrastructure updates</p></li>
    /// <li>
    /// <p>Newly launched instances that have not yet run any jobs</p></li>
    /// <li>
    /// <p>Spot instances reclaimed due to interruption</p></li>
    /// </ul>
    /// </note>
    pub fn min_scale_down_delay_minutes(&self) -> ::std::option::Option<i32> {
        self.min_scale_down_delay_minutes
    }
}
impl ComputeScalingPolicy {
    /// Creates a new builder-style object to manufacture [`ComputeScalingPolicy`](crate::types::ComputeScalingPolicy).
    pub fn builder() -> crate::types::builders::ComputeScalingPolicyBuilder {
        crate::types::builders::ComputeScalingPolicyBuilder::default()
    }
}

/// A builder for [`ComputeScalingPolicy`](crate::types::ComputeScalingPolicy).
#[derive(::std::clone::Clone, ::std::cmp::PartialEq, ::std::default::Default, ::std::fmt::Debug)]
#[non_exhaustive]
pub struct ComputeScalingPolicyBuilder {
    pub(crate) min_scale_down_delay_minutes: ::std::option::Option<i32>,
}
impl ComputeScalingPolicyBuilder {
    /// <p>The minimum time (in minutes) that Batch keeps instances running in the compute environment after their jobs complete. For each instance, the delay period begins when the last job finishes. If no new jobs are placed on the instance during this delay, Batch terminates the instance once the delay expires.</p>
    /// <p>Valid Range: Minimum value of 20. Maximum value of 10080. Use 0 to unset and disable the scale down delay.</p><note>
    /// <p>The scale down delay does not apply to:</p>
    /// <ul>
    /// <li>
    /// <p>Instances being replaced during infrastructure updates</p></li>
    /// <li>
    /// <p>Newly launched instances that have not yet run any jobs</p></li>
    /// <li>
    /// <p>Spot instances reclaimed due to interruption</p></li>
    /// </ul>
    /// </note>
    pub fn min_scale_down_delay_minutes(mut self, input: i32) -> Self {
        self.min_scale_down_delay_minutes = ::std::option::Option::Some(input);
        self
    }
    /// <p>The minimum time (in minutes) that Batch keeps instances running in the compute environment after their jobs complete. For each instance, the delay period begins when the last job finishes. If no new jobs are placed on the instance during this delay, Batch terminates the instance once the delay expires.</p>
    /// <p>Valid Range: Minimum value of 20. Maximum value of 10080. Use 0 to unset and disable the scale down delay.</p><note>
    /// <p>The scale down delay does not apply to:</p>
    /// <ul>
    /// <li>
    /// <p>Instances being replaced during infrastructure updates</p></li>
    /// <li>
    /// <p>Newly launched instances that have not yet run any jobs</p></li>
    /// <li>
    /// <p>Spot instances reclaimed due to interruption</p></li>
    /// </ul>
    /// </note>
    pub fn set_min_scale_down_delay_minutes(mut self, input: ::std::option::Option<i32>) -> Self {
        self.min_scale_down_delay_minutes = input;
        self
    }
    /// <p>The minimum time (in minutes) that Batch keeps instances running in the compute environment after their jobs complete. For each instance, the delay period begins when the last job finishes. If no new jobs are placed on the instance during this delay, Batch terminates the instance once the delay expires.</p>
    /// <p>Valid Range: Minimum value of 20. Maximum value of 10080. Use 0 to unset and disable the scale down delay.</p><note>
    /// <p>The scale down delay does not apply to:</p>
    /// <ul>
    /// <li>
    /// <p>Instances being replaced during infrastructure updates</p></li>
    /// <li>
    /// <p>Newly launched instances that have not yet run any jobs</p></li>
    /// <li>
    /// <p>Spot instances reclaimed due to interruption</p></li>
    /// </ul>
    /// </note>
    pub fn get_min_scale_down_delay_minutes(&self) -> &::std::option::Option<i32> {
        &self.min_scale_down_delay_minutes
    }
    /// Consumes the builder and constructs a [`ComputeScalingPolicy`](crate::types::ComputeScalingPolicy).
    pub fn build(self) -> crate::types::ComputeScalingPolicy {
        crate::types::ComputeScalingPolicy {
            min_scale_down_delay_minutes: self.min_scale_down_delay_minutes,
        }
    }
}
