{
    "events": [
        {
            "connection_id": 0,
            "action": {
                "Request": {
                    "request": {
                        "uri": "http://169.254.169.254/latest/api/token",
                        "headers": {
                            "x-amz-user-agent": [
                                "aws-sdk-rust/0.1.0 api/imds/0.1.0 os/linux lang/rust/1.52.1"
                            ],
                            "user-agent": [
                                "aws-sdk-rust/0.1.0 os/linux lang/rust/1.52.1"
                            ],
                            "x-aws-ec2-metadata-token-ttl-seconds": [
                                "21600"
                            ]
                        },
                        "method": "PUT"
                    }
                }
            }
        },
        {
            "connection_id": 0,
            "action": {
                "Eof": {
                    "ok": true,
                    "direction": "Request"
                }
            }
        },
        {
            "connection_id": 0,
            "action": {
                "Response": {
                    "response": {
                        "Ok": {
                            "status": 200,
                            "version": "HTTP/1.1",
                            "headers": {
                                "x-aws-ec2-metadata-token-ttl-seconds": [
                                    "21600"
                                ],
                                "content-type": [
                                    "text/plain"
                                ],
                                "connection": [
                                    "close"
                                ],
                                "server": [
                                    "EC2ws"
                                ],
                                "content-length": [
                                    "56"
                                ],
                                "date": [
                                    "Mon, 20 Sep 2021 21:43:31 GMT"
                                ]
                            }
                        }
                    }
                }
            }
        },
        {
            "connection_id": 0,
            "action": {
                "Data": {
                    "data": {
                        "Utf8": "AQAEAKQRRHnsX8GCPgYTGMShrFJkMhru3n-8Ul5Gzvzj-bpWKYZuiw=="
                    },
                    "direction": "Response"
                }
            }
        },
        {
            "connection_id": 0,
            "action": {
                "Eof": {
                    "ok": true,
                    "direction": "Response"
                }
            }
        },
        {
            "connection_id": 1,
            "action": {
                "Request": {
                    "request": {
                        "uri": "http://169.254.169.254/latest/meta-data/iam/security-credentials/",
                        "headers": {
                            "x-amz-user-agent": [
                                "aws-sdk-rust/0.1.0 api/imds/0.1.0 os/linux lang/rust/1.52.1"
                            ],
                            "x-aws-ec2-metadata-token": [
                                "AQAEAKQRRHnsX8GCPgYTGMShrFJkMhru3n-8Ul5Gzvzj-bpWKYZuiw=="
                            ],
                            "user-agent": [
                                "aws-sdk-rust/0.1.0 os/linux lang/rust/1.52.1"
                            ]
                        },
                        "method": "GET"
                    }
                }
            }
        },
        {
            "connection_id": 1,
            "action": {
                "Eof": {
                    "ok": true,
                    "direction": "Request"
                }
            }
        },
        {
            "connection_id": 1,
            "action": {
                "Response": {
                    "response": {
                        "Ok": {
                            "status": 200,
                            "version": "HTTP/1.1",
                            "headers": {
                                "server": [
                                    "EC2ws"
                                ],
                                "content-length": [
                                    "21"
                                ],
                                "x-aws-ec2-metadata-token-ttl-seconds": [
                                    "21600"
                                ],
                                "connection": [
                                    "close"
                                ],
                                "last-modified": [
                                    "Mon, 20 Sep 2021 21:41:54 GMT"
                                ],
                                "content-type": [
                                    "text/plain"
                                ],
                                "date": [
                                    "Mon, 20 Sep 2021 21:43:31 GMT"
                                ],
                                "accept-ranges": [
                                    "none"
                                ]
                            }
                        }
                    }
                }
            }
        },
        {
            "connection_id": 1,
            "action": {
                "Data": {
                    "data": {
                        "Utf8": "imds-assume-role-test"
                    },
                    "direction": "Response"
                }
            }
        },
        {
            "connection_id": 1,
            "action": {
                "Eof": {
                    "ok": true,
                    "direction": "Response"
                }
            }
        },
        {
            "connection_id": 2,
            "action": {
                "Request": {
                    "request": {
                        "uri": "http://169.254.169.254/latest/meta-data/iam/security-credentials/imds-assume-role-test",
                        "headers": {
                            "x-aws-ec2-metadata-token": [
                                "AQAEAKQRRHnsX8GCPgYTGMShrFJkMhru3n-8Ul5Gzvzj-bpWKYZuiw=="
                            ],
                            "user-agent": [
                                "aws-sdk-rust/0.1.0 os/linux lang/rust/1.52.1"
                            ],
                            "x-amz-user-agent": [
                                "aws-sdk-rust/0.1.0 api/imds/0.1.0 os/linux lang/rust/1.52.1"
                            ]
                        },
                        "method": "GET"
                    }
                }
            }
        },
        {
            "connection_id": 2,
            "action": {
                "Eof": {
                    "ok": true,
                    "direction": "Request"
                }
            }
        },
        {
            "connection_id": 2,
            "action": {
                "Response": {
                    "response": {
                        "Ok": {
                            "status": 200,
                            "version": "HTTP/1.1",
                            "headers": {
                                "content-type": [
                                    "text/plain"
                                ],
                                "server": [
                                    "EC2ws"
                                ],
                                "content-length": [
                                    "1322"
                                ],
                                "accept-ranges": [
                                    "none"
                                ],
                                "date": [
                                    "Mon, 20 Sep 2021 21:43:31 GMT"
                                ],
                                "connection": [
                                    "close"
                                ],
                                "last-modified": [
                                    "Mon, 20 Sep 2021 21:41:54 GMT"
                                ],
                                "x-aws-ec2-metadata-token-ttl-seconds": [
                                    "21600"
                                ]
                            }
                        }
                    }
                }
            }
        },
        {
            "connection_id": 2,
            "action": {
                "Data": {
                    "data": {
                        "Utf8": "{\n  \"Code\" : \"Success\",\n  \"LastUpdated\" : \"2021-09-20T21:42:26Z\",\n  \"Type\" : \"AWS-HMAC\",\n  \"AccessKeyId\" : \"ASIARTEST\",\n  \"SecretAccessKey\" : \"testsecret\",\n  \"Token\" : \"testtoken\",\n  \"Expiration\" : \"2021-09-21T04:16:53Z\"\n}"
                    },
                    "direction": "Response"
                }
            }
        },
        {
            "connection_id": 2,
            "action": {
                "Eof": {
                    "ok": true,
                    "direction": "Response"
                }
            }
        }
    ],
    "docs": "profile provider should hit IMDS if a profile contains config data but no credentials.",
    "version": "V0"
}
