// Code generated by software.amazon.smithy.rust.codegen.smithy-rs. DO NOT EDIT.

/// <p>Provides information about the GPU accelerators used for jobs processed by a fleet.</p><important>
/// <p>Accelerator capabilities cannot be used with wait-and-save fleets. If you specify accelerator capabilities, you must use either spot or on-demand instance market options.</p>
/// </important> <note>
/// <p>Each accelerator type maps to specific EC2 instance families:</p>
/// <ul>
/// <li>
/// <p><code>t4</code>: Uses G4dn instance family</p></li>
/// <li>
/// <p><code>a10g</code>: Uses G5 instance family</p></li>
/// <li>
/// <p><code>l4</code>: Uses G6 and Gr6 instance families</p></li>
/// <li>
/// <p><code>l40s</code>: Uses G6e instance family</p></li>
/// </ul>
/// </note>
#[non_exhaustive]
#[derive(::std::clone::Clone, ::std::cmp::PartialEq, ::std::fmt::Debug)]
pub struct AcceleratorCapabilities {
    /// <p>A list of accelerator capabilities requested for this fleet. Only Amazon Elastic Compute Cloud instances that provide these capabilities will be used. For example, if you specify both L4 and T4 chips, Amazon Web Services Deadline Cloud will use Amazon EC2 instances that have either the L4 or the T4 chip installed.</p><important>
    /// <ul>
    /// <li>
    /// <p>You must specify at least one accelerator selection.</p></li>
    /// <li>
    /// <p>You cannot specify the same accelerator name multiple times in the selections list.</p></li>
    /// <li>
    /// <p>All accelerators in the selections must use the same runtime version.</p></li>
    /// </ul>
    /// </important>
    pub selections: ::std::vec::Vec<crate::types::AcceleratorSelection>,
    /// <p>The number of GPU accelerators specified for worker hosts in this fleet.</p><important>
    /// <p>You must specify either <code>acceleratorCapabilities.count.max</code> or <code>allowedInstanceTypes</code> when using accelerator capabilities. If you don't specify a maximum count, Amazon Web Services Deadline Cloud uses the instance types you specify in <code>allowedInstanceTypes</code> to determine the maximum number of accelerators.</p>
    /// </important>
    pub count: ::std::option::Option<crate::types::AcceleratorCountRange>,
}
impl AcceleratorCapabilities {
    /// <p>A list of accelerator capabilities requested for this fleet. Only Amazon Elastic Compute Cloud instances that provide these capabilities will be used. For example, if you specify both L4 and T4 chips, Amazon Web Services Deadline Cloud will use Amazon EC2 instances that have either the L4 or the T4 chip installed.</p><important>
    /// <ul>
    /// <li>
    /// <p>You must specify at least one accelerator selection.</p></li>
    /// <li>
    /// <p>You cannot specify the same accelerator name multiple times in the selections list.</p></li>
    /// <li>
    /// <p>All accelerators in the selections must use the same runtime version.</p></li>
    /// </ul>
    /// </important>
    pub fn selections(&self) -> &[crate::types::AcceleratorSelection] {
        use std::ops::Deref;
        self.selections.deref()
    }
    /// <p>The number of GPU accelerators specified for worker hosts in this fleet.</p><important>
    /// <p>You must specify either <code>acceleratorCapabilities.count.max</code> or <code>allowedInstanceTypes</code> when using accelerator capabilities. If you don't specify a maximum count, Amazon Web Services Deadline Cloud uses the instance types you specify in <code>allowedInstanceTypes</code> to determine the maximum number of accelerators.</p>
    /// </important>
    pub fn count(&self) -> ::std::option::Option<&crate::types::AcceleratorCountRange> {
        self.count.as_ref()
    }
}
impl AcceleratorCapabilities {
    /// Creates a new builder-style object to manufacture [`AcceleratorCapabilities`](crate::types::AcceleratorCapabilities).
    pub fn builder() -> crate::types::builders::AcceleratorCapabilitiesBuilder {
        crate::types::builders::AcceleratorCapabilitiesBuilder::default()
    }
}

/// A builder for [`AcceleratorCapabilities`](crate::types::AcceleratorCapabilities).
#[derive(::std::clone::Clone, ::std::cmp::PartialEq, ::std::default::Default, ::std::fmt::Debug)]
#[non_exhaustive]
pub struct AcceleratorCapabilitiesBuilder {
    pub(crate) selections: ::std::option::Option<::std::vec::Vec<crate::types::AcceleratorSelection>>,
    pub(crate) count: ::std::option::Option<crate::types::AcceleratorCountRange>,
}
impl AcceleratorCapabilitiesBuilder {
    /// Appends an item to `selections`.
    ///
    /// To override the contents of this collection use [`set_selections`](Self::set_selections).
    ///
    /// <p>A list of accelerator capabilities requested for this fleet. Only Amazon Elastic Compute Cloud instances that provide these capabilities will be used. For example, if you specify both L4 and T4 chips, Amazon Web Services Deadline Cloud will use Amazon EC2 instances that have either the L4 or the T4 chip installed.</p><important>
    /// <ul>
    /// <li>
    /// <p>You must specify at least one accelerator selection.</p></li>
    /// <li>
    /// <p>You cannot specify the same accelerator name multiple times in the selections list.</p></li>
    /// <li>
    /// <p>All accelerators in the selections must use the same runtime version.</p></li>
    /// </ul>
    /// </important>
    pub fn selections(mut self, input: crate::types::AcceleratorSelection) -> Self {
        let mut v = self.selections.unwrap_or_default();
        v.push(input);
        self.selections = ::std::option::Option::Some(v);
        self
    }
    /// <p>A list of accelerator capabilities requested for this fleet. Only Amazon Elastic Compute Cloud instances that provide these capabilities will be used. For example, if you specify both L4 and T4 chips, Amazon Web Services Deadline Cloud will use Amazon EC2 instances that have either the L4 or the T4 chip installed.</p><important>
    /// <ul>
    /// <li>
    /// <p>You must specify at least one accelerator selection.</p></li>
    /// <li>
    /// <p>You cannot specify the same accelerator name multiple times in the selections list.</p></li>
    /// <li>
    /// <p>All accelerators in the selections must use the same runtime version.</p></li>
    /// </ul>
    /// </important>
    pub fn set_selections(mut self, input: ::std::option::Option<::std::vec::Vec<crate::types::AcceleratorSelection>>) -> Self {
        self.selections = input;
        self
    }
    /// <p>A list of accelerator capabilities requested for this fleet. Only Amazon Elastic Compute Cloud instances that provide these capabilities will be used. For example, if you specify both L4 and T4 chips, Amazon Web Services Deadline Cloud will use Amazon EC2 instances that have either the L4 or the T4 chip installed.</p><important>
    /// <ul>
    /// <li>
    /// <p>You must specify at least one accelerator selection.</p></li>
    /// <li>
    /// <p>You cannot specify the same accelerator name multiple times in the selections list.</p></li>
    /// <li>
    /// <p>All accelerators in the selections must use the same runtime version.</p></li>
    /// </ul>
    /// </important>
    pub fn get_selections(&self) -> &::std::option::Option<::std::vec::Vec<crate::types::AcceleratorSelection>> {
        &self.selections
    }
    /// <p>The number of GPU accelerators specified for worker hosts in this fleet.</p><important>
    /// <p>You must specify either <code>acceleratorCapabilities.count.max</code> or <code>allowedInstanceTypes</code> when using accelerator capabilities. If you don't specify a maximum count, Amazon Web Services Deadline Cloud uses the instance types you specify in <code>allowedInstanceTypes</code> to determine the maximum number of accelerators.</p>
    /// </important>
    pub fn count(mut self, input: crate::types::AcceleratorCountRange) -> Self {
        self.count = ::std::option::Option::Some(input);
        self
    }
    /// <p>The number of GPU accelerators specified for worker hosts in this fleet.</p><important>
    /// <p>You must specify either <code>acceleratorCapabilities.count.max</code> or <code>allowedInstanceTypes</code> when using accelerator capabilities. If you don't specify a maximum count, Amazon Web Services Deadline Cloud uses the instance types you specify in <code>allowedInstanceTypes</code> to determine the maximum number of accelerators.</p>
    /// </important>
    pub fn set_count(mut self, input: ::std::option::Option<crate::types::AcceleratorCountRange>) -> Self {
        self.count = input;
        self
    }
    /// <p>The number of GPU accelerators specified for worker hosts in this fleet.</p><important>
    /// <p>You must specify either <code>acceleratorCapabilities.count.max</code> or <code>allowedInstanceTypes</code> when using accelerator capabilities. If you don't specify a maximum count, Amazon Web Services Deadline Cloud uses the instance types you specify in <code>allowedInstanceTypes</code> to determine the maximum number of accelerators.</p>
    /// </important>
    pub fn get_count(&self) -> &::std::option::Option<crate::types::AcceleratorCountRange> {
        &self.count
    }
    /// Consumes the builder and constructs a [`AcceleratorCapabilities`](crate::types::AcceleratorCapabilities).
    /// This method will fail if any of the following fields are not set:
    /// - [`selections`](crate::types::builders::AcceleratorCapabilitiesBuilder::selections)
    pub fn build(self) -> ::std::result::Result<crate::types::AcceleratorCapabilities, ::aws_smithy_types::error::operation::BuildError> {
        ::std::result::Result::Ok(crate::types::AcceleratorCapabilities {
            selections: self.selections.ok_or_else(|| {
                ::aws_smithy_types::error::operation::BuildError::missing_field(
                    "selections",
                    "selections was not specified but it is required when building AcceleratorCapabilities",
                )
            })?,
            count: self.count,
        })
    }
}
