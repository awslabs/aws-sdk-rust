// Code generated by software.amazon.smithy.rust.codegen.smithy-rs. DO NOT EDIT.

/// <p>Encryption key structure used for Iceberg table encryption. Contains the key ID, encrypted key metadata, optional reference to the encrypting key, and additional properties for the table's encryption scheme.</p>
#[non_exhaustive]
#[derive(::std::clone::Clone, ::std::cmp::PartialEq, ::std::fmt::Debug)]
pub struct IcebergEncryptedKey {
    /// <p>Unique identifier of the encryption key used for Iceberg table encryption. This ID is used to reference the key in table metadata and track which key was used to encrypt specific data.</p>
    pub key_id: ::std::string::String,
    /// <p>Encrypted key and metadata, base64 encoded. The format of encrypted key metadata is determined by the table's encryption scheme and can be a wrapped format specific to the table's KMS provider.</p>
    pub encrypted_key_metadata: ::std::string::String,
    /// <p>Optional ID of the key used to encrypt or wrap the key metadata in Iceberg table encryption. This field references another encryption key that was used to encrypt the current key's metadata.</p>
    pub encrypted_by_id: ::std::option::Option<::std::string::String>,
    /// <p>A string to string map of additional metadata used by the table's encryption scheme. These properties provide additional context and configuration for the encryption key implementation.</p>
    pub properties: ::std::option::Option<::std::collections::HashMap<::std::string::String, ::std::string::String>>,
}
impl IcebergEncryptedKey {
    /// <p>Unique identifier of the encryption key used for Iceberg table encryption. This ID is used to reference the key in table metadata and track which key was used to encrypt specific data.</p>
    pub fn key_id(&self) -> &str {
        use std::ops::Deref;
        self.key_id.deref()
    }
    /// <p>Encrypted key and metadata, base64 encoded. The format of encrypted key metadata is determined by the table's encryption scheme and can be a wrapped format specific to the table's KMS provider.</p>
    pub fn encrypted_key_metadata(&self) -> &str {
        use std::ops::Deref;
        self.encrypted_key_metadata.deref()
    }
    /// <p>Optional ID of the key used to encrypt or wrap the key metadata in Iceberg table encryption. This field references another encryption key that was used to encrypt the current key's metadata.</p>
    pub fn encrypted_by_id(&self) -> ::std::option::Option<&str> {
        self.encrypted_by_id.as_deref()
    }
    /// <p>A string to string map of additional metadata used by the table's encryption scheme. These properties provide additional context and configuration for the encryption key implementation.</p>
    pub fn properties(&self) -> ::std::option::Option<&::std::collections::HashMap<::std::string::String, ::std::string::String>> {
        self.properties.as_ref()
    }
}
impl IcebergEncryptedKey {
    /// Creates a new builder-style object to manufacture [`IcebergEncryptedKey`](crate::types::IcebergEncryptedKey).
    pub fn builder() -> crate::types::builders::IcebergEncryptedKeyBuilder {
        crate::types::builders::IcebergEncryptedKeyBuilder::default()
    }
}

/// A builder for [`IcebergEncryptedKey`](crate::types::IcebergEncryptedKey).
#[derive(::std::clone::Clone, ::std::cmp::PartialEq, ::std::default::Default, ::std::fmt::Debug)]
#[non_exhaustive]
pub struct IcebergEncryptedKeyBuilder {
    pub(crate) key_id: ::std::option::Option<::std::string::String>,
    pub(crate) encrypted_key_metadata: ::std::option::Option<::std::string::String>,
    pub(crate) encrypted_by_id: ::std::option::Option<::std::string::String>,
    pub(crate) properties: ::std::option::Option<::std::collections::HashMap<::std::string::String, ::std::string::String>>,
}
impl IcebergEncryptedKeyBuilder {
    /// <p>Unique identifier of the encryption key used for Iceberg table encryption. This ID is used to reference the key in table metadata and track which key was used to encrypt specific data.</p>
    /// This field is required.
    pub fn key_id(mut self, input: impl ::std::convert::Into<::std::string::String>) -> Self {
        self.key_id = ::std::option::Option::Some(input.into());
        self
    }
    /// <p>Unique identifier of the encryption key used for Iceberg table encryption. This ID is used to reference the key in table metadata and track which key was used to encrypt specific data.</p>
    pub fn set_key_id(mut self, input: ::std::option::Option<::std::string::String>) -> Self {
        self.key_id = input;
        self
    }
    /// <p>Unique identifier of the encryption key used for Iceberg table encryption. This ID is used to reference the key in table metadata and track which key was used to encrypt specific data.</p>
    pub fn get_key_id(&self) -> &::std::option::Option<::std::string::String> {
        &self.key_id
    }
    /// <p>Encrypted key and metadata, base64 encoded. The format of encrypted key metadata is determined by the table's encryption scheme and can be a wrapped format specific to the table's KMS provider.</p>
    /// This field is required.
    pub fn encrypted_key_metadata(mut self, input: impl ::std::convert::Into<::std::string::String>) -> Self {
        self.encrypted_key_metadata = ::std::option::Option::Some(input.into());
        self
    }
    /// <p>Encrypted key and metadata, base64 encoded. The format of encrypted key metadata is determined by the table's encryption scheme and can be a wrapped format specific to the table's KMS provider.</p>
    pub fn set_encrypted_key_metadata(mut self, input: ::std::option::Option<::std::string::String>) -> Self {
        self.encrypted_key_metadata = input;
        self
    }
    /// <p>Encrypted key and metadata, base64 encoded. The format of encrypted key metadata is determined by the table's encryption scheme and can be a wrapped format specific to the table's KMS provider.</p>
    pub fn get_encrypted_key_metadata(&self) -> &::std::option::Option<::std::string::String> {
        &self.encrypted_key_metadata
    }
    /// <p>Optional ID of the key used to encrypt or wrap the key metadata in Iceberg table encryption. This field references another encryption key that was used to encrypt the current key's metadata.</p>
    pub fn encrypted_by_id(mut self, input: impl ::std::convert::Into<::std::string::String>) -> Self {
        self.encrypted_by_id = ::std::option::Option::Some(input.into());
        self
    }
    /// <p>Optional ID of the key used to encrypt or wrap the key metadata in Iceberg table encryption. This field references another encryption key that was used to encrypt the current key's metadata.</p>
    pub fn set_encrypted_by_id(mut self, input: ::std::option::Option<::std::string::String>) -> Self {
        self.encrypted_by_id = input;
        self
    }
    /// <p>Optional ID of the key used to encrypt or wrap the key metadata in Iceberg table encryption. This field references another encryption key that was used to encrypt the current key's metadata.</p>
    pub fn get_encrypted_by_id(&self) -> &::std::option::Option<::std::string::String> {
        &self.encrypted_by_id
    }
    /// Adds a key-value pair to `properties`.
    ///
    /// To override the contents of this collection use [`set_properties`](Self::set_properties).
    ///
    /// <p>A string to string map of additional metadata used by the table's encryption scheme. These properties provide additional context and configuration for the encryption key implementation.</p>
    pub fn properties(mut self, k: impl ::std::convert::Into<::std::string::String>, v: impl ::std::convert::Into<::std::string::String>) -> Self {
        let mut hash_map = self.properties.unwrap_or_default();
        hash_map.insert(k.into(), v.into());
        self.properties = ::std::option::Option::Some(hash_map);
        self
    }
    /// <p>A string to string map of additional metadata used by the table's encryption scheme. These properties provide additional context and configuration for the encryption key implementation.</p>
    pub fn set_properties(mut self, input: ::std::option::Option<::std::collections::HashMap<::std::string::String, ::std::string::String>>) -> Self {
        self.properties = input;
        self
    }
    /// <p>A string to string map of additional metadata used by the table's encryption scheme. These properties provide additional context and configuration for the encryption key implementation.</p>
    pub fn get_properties(&self) -> &::std::option::Option<::std::collections::HashMap<::std::string::String, ::std::string::String>> {
        &self.properties
    }
    /// Consumes the builder and constructs a [`IcebergEncryptedKey`](crate::types::IcebergEncryptedKey).
    /// This method will fail if any of the following fields are not set:
    /// - [`key_id`](crate::types::builders::IcebergEncryptedKeyBuilder::key_id)
    /// - [`encrypted_key_metadata`](crate::types::builders::IcebergEncryptedKeyBuilder::encrypted_key_metadata)
    pub fn build(self) -> ::std::result::Result<crate::types::IcebergEncryptedKey, ::aws_smithy_types::error::operation::BuildError> {
        ::std::result::Result::Ok(crate::types::IcebergEncryptedKey {
            key_id: self.key_id.ok_or_else(|| {
                ::aws_smithy_types::error::operation::BuildError::missing_field(
                    "key_id",
                    "key_id was not specified but it is required when building IcebergEncryptedKey",
                )
            })?,
            encrypted_key_metadata: self.encrypted_key_metadata.ok_or_else(|| {
                ::aws_smithy_types::error::operation::BuildError::missing_field(
                    "encrypted_key_metadata",
                    "encrypted_key_metadata was not specified but it is required when building IcebergEncryptedKey",
                )
            })?,
            encrypted_by_id: self.encrypted_by_id,
            properties: self.properties,
        })
    }
}
