// Code generated by software.amazon.smithy.rust.codegen.smithy-rs. DO NOT EDIT.
pub use crate::operation::enable_aws_organizations_access::_enable_aws_organizations_access_output::EnableAwsOrganizationsAccessOutputBuilder;

pub use crate::operation::enable_aws_organizations_access::_enable_aws_organizations_access_input::EnableAwsOrganizationsAccessInputBuilder;

impl crate::operation::enable_aws_organizations_access::builders::EnableAwsOrganizationsAccessInputBuilder {
    /// Sends a request with this input using the given client.
    pub async fn send_with(
        self,
        client: &crate::Client,
    ) -> ::std::result::Result<
        crate::operation::enable_aws_organizations_access::EnableAwsOrganizationsAccessOutput,
        ::aws_smithy_runtime_api::client::result::SdkError<
            crate::operation::enable_aws_organizations_access::EnableAWSOrganizationsAccessError,
            ::aws_smithy_runtime_api::client::orchestrator::HttpResponse,
        >,
    > {
        let mut fluent_builder = client.enable_aws_organizations_access();
        fluent_builder.inner = self;
        fluent_builder.send().await
    }
}
/// Fluent builder constructing a request to `EnableAWSOrganizationsAccess`.
///
/// <p>Enable portfolio sharing feature through Organizations. This API will allow Service Catalog to receive updates on your organization in order to sync your shares with the current structure. This API can only be called by the management account in the organization.</p>
/// <p>When you call this API, Service Catalog calls <code>organizations:EnableAWSServiceAccess</code> on your behalf so that your shares stay in sync with any changes in your Organizations structure.</p>
/// <p>Note that a delegated administrator is not authorized to invoke <code>EnableAWSOrganizationsAccess</code>.</p><important>
/// <p>If you have previously disabled Organizations access for Service Catalog, and then enable access again, the portfolio access permissions might not sync with the latest changes to the organization structure. Specifically, accounts that you removed from the organization after disabling Service Catalog access, and before you enabled access again, can retain access to the previously shared portfolio. As a result, an account that has been removed from the organization might still be able to create or manage Amazon Web Services resources when it is no longer authorized to do so. Amazon Web Services is working to resolve this issue.</p>
/// </important>
#[derive(::std::clone::Clone, ::std::fmt::Debug)]
pub struct EnableAWSOrganizationsAccessFluentBuilder {
    handle: ::std::sync::Arc<crate::client::Handle>,
    inner: crate::operation::enable_aws_organizations_access::builders::EnableAwsOrganizationsAccessInputBuilder,
    config_override: ::std::option::Option<crate::config::Builder>,
}
impl
    crate::client::customize::internal::CustomizableSend<
        crate::operation::enable_aws_organizations_access::EnableAwsOrganizationsAccessOutput,
        crate::operation::enable_aws_organizations_access::EnableAWSOrganizationsAccessError,
    > for EnableAWSOrganizationsAccessFluentBuilder
{
    fn send(
        self,
        config_override: crate::config::Builder,
    ) -> crate::client::customize::internal::BoxFuture<
        crate::client::customize::internal::SendResult<
            crate::operation::enable_aws_organizations_access::EnableAwsOrganizationsAccessOutput,
            crate::operation::enable_aws_organizations_access::EnableAWSOrganizationsAccessError,
        >,
    > {
        ::std::boxed::Box::pin(async move { self.config_override(config_override).send().await })
    }
}
impl EnableAWSOrganizationsAccessFluentBuilder {
    /// Creates a new `EnableAWSOrganizationsAccess`.
    pub(crate) fn new(handle: ::std::sync::Arc<crate::client::Handle>) -> Self {
        Self {
            handle,
            inner: ::std::default::Default::default(),
            config_override: ::std::option::Option::None,
        }
    }
    /// Access the EnableAWSOrganizationsAccess as a reference.
    pub fn as_input(&self) -> &crate::operation::enable_aws_organizations_access::builders::EnableAwsOrganizationsAccessInputBuilder {
        &self.inner
    }
    /// Sends the request and returns the response.
    ///
    /// If an error occurs, an `SdkError` will be returned with additional details that
    /// can be matched against.
    ///
    /// By default, any retryable failures will be retried twice. Retry behavior
    /// is configurable with the [RetryConfig](aws_smithy_types::retry::RetryConfig), which can be
    /// set when configuring the client.
    pub async fn send(
        self,
    ) -> ::std::result::Result<
        crate::operation::enable_aws_organizations_access::EnableAwsOrganizationsAccessOutput,
        ::aws_smithy_runtime_api::client::result::SdkError<
            crate::operation::enable_aws_organizations_access::EnableAWSOrganizationsAccessError,
            ::aws_smithy_runtime_api::client::orchestrator::HttpResponse,
        >,
    > {
        let input = self
            .inner
            .build()
            .map_err(::aws_smithy_runtime_api::client::result::SdkError::construction_failure)?;
        let runtime_plugins = crate::operation::enable_aws_organizations_access::EnableAWSOrganizationsAccess::operation_runtime_plugins(
            self.handle.runtime_plugins.clone(),
            &self.handle.conf,
            self.config_override,
        );
        crate::operation::enable_aws_organizations_access::EnableAWSOrganizationsAccess::orchestrate(&runtime_plugins, input).await
    }

    /// Consumes this builder, creating a customizable operation that can be modified before being sent.
    pub fn customize(
        self,
    ) -> crate::client::customize::CustomizableOperation<
        crate::operation::enable_aws_organizations_access::EnableAwsOrganizationsAccessOutput,
        crate::operation::enable_aws_organizations_access::EnableAWSOrganizationsAccessError,
        Self,
    > {
        crate::client::customize::CustomizableOperation::new(self)
    }
    pub(crate) fn config_override(mut self, config_override: impl ::std::convert::Into<crate::config::Builder>) -> Self {
        self.set_config_override(::std::option::Option::Some(config_override.into()));
        self
    }

    pub(crate) fn set_config_override(&mut self, config_override: ::std::option::Option<crate::config::Builder>) -> &mut Self {
        self.config_override = config_override;
        self
    }
}
