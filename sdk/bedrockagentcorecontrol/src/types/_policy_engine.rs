// Code generated by software.amazon.smithy.rust.codegen.smithy-rs. DO NOT EDIT.

/// <p>Represents a policy engine resource within the AgentCore Policy system. Policy engines serve as containers for grouping related policies and provide the execution context for policy evaluation and management. Each policy engine can be associated with one Gateway (one engine per Gateway), where it intercepts all agent tool calls and evaluates them against the contained policies before allowing tools to execute. The policy engine maintains the Cedar schema generated from the Gateway's tool manifest, ensuring that policies are validated against the actual tools and parameters available. Policy engines support two enforcement modes that can be configured when associating with a Gateway: log-only mode for testing (evaluates decisions without blocking) and enforce mode for production (actively allows or denies based on policy evaluation).</p>
#[non_exhaustive]
#[derive(::std::clone::Clone, ::std::cmp::PartialEq)]
pub struct PolicyEngine {
    /// <p>The unique identifier for the policy engine. This system-generated identifier consists of the user name plus a 10-character generated suffix and serves as the primary key for policy engine operations.</p>
    pub policy_engine_id: ::std::string::String,
    /// <p>The customer-assigned immutable name for the policy engine. This human-readable identifier must be unique within the account and cannot exceed 48 characters.</p>
    pub name: ::std::string::String,
    /// <p>A human-readable description of the policy engine's purpose and scope. Limited to 4,096 characters, this helps administrators understand the policy engine's role in the overall governance strategy.</p>
    pub description: ::std::option::Option<::std::string::String>,
    /// <p>The timestamp when the policy engine was originally created. This is automatically set by the service and used for auditing and lifecycle management.</p>
    pub created_at: ::aws_smithy_types::DateTime,
    /// <p>The timestamp when the policy engine was last modified. This tracks the most recent changes to the policy engine configuration or metadata.</p>
    pub updated_at: ::aws_smithy_types::DateTime,
    /// <p>The Amazon Resource Name (ARN) of the policy engine. This globally unique identifier can be used for cross-service references and IAM policy statements.</p>
    pub policy_engine_arn: ::std::string::String,
    /// <p>The current status of the policy engine.</p>
    pub status: crate::types::PolicyEngineStatus,
    /// <p>Additional information about the policy engine status. This provides details about any failures or the current state of the policy engine lifecycle.</p>
    pub status_reasons: ::std::vec::Vec<::std::string::String>,
}
impl PolicyEngine {
    /// <p>The unique identifier for the policy engine. This system-generated identifier consists of the user name plus a 10-character generated suffix and serves as the primary key for policy engine operations.</p>
    pub fn policy_engine_id(&self) -> &str {
        use std::ops::Deref;
        self.policy_engine_id.deref()
    }
    /// <p>The customer-assigned immutable name for the policy engine. This human-readable identifier must be unique within the account and cannot exceed 48 characters.</p>
    pub fn name(&self) -> &str {
        use std::ops::Deref;
        self.name.deref()
    }
    /// <p>A human-readable description of the policy engine's purpose and scope. Limited to 4,096 characters, this helps administrators understand the policy engine's role in the overall governance strategy.</p>
    pub fn description(&self) -> ::std::option::Option<&str> {
        self.description.as_deref()
    }
    /// <p>The timestamp when the policy engine was originally created. This is automatically set by the service and used for auditing and lifecycle management.</p>
    pub fn created_at(&self) -> &::aws_smithy_types::DateTime {
        &self.created_at
    }
    /// <p>The timestamp when the policy engine was last modified. This tracks the most recent changes to the policy engine configuration or metadata.</p>
    pub fn updated_at(&self) -> &::aws_smithy_types::DateTime {
        &self.updated_at
    }
    /// <p>The Amazon Resource Name (ARN) of the policy engine. This globally unique identifier can be used for cross-service references and IAM policy statements.</p>
    pub fn policy_engine_arn(&self) -> &str {
        use std::ops::Deref;
        self.policy_engine_arn.deref()
    }
    /// <p>The current status of the policy engine.</p>
    pub fn status(&self) -> &crate::types::PolicyEngineStatus {
        &self.status
    }
    /// <p>Additional information about the policy engine status. This provides details about any failures or the current state of the policy engine lifecycle.</p>
    pub fn status_reasons(&self) -> &[::std::string::String] {
        use std::ops::Deref;
        self.status_reasons.deref()
    }
}
impl ::std::fmt::Debug for PolicyEngine {
    fn fmt(&self, f: &mut ::std::fmt::Formatter<'_>) -> ::std::fmt::Result {
        let mut formatter = f.debug_struct("PolicyEngine");
        formatter.field("policy_engine_id", &self.policy_engine_id);
        formatter.field("name", &self.name);
        formatter.field("description", &"*** Sensitive Data Redacted ***");
        formatter.field("created_at", &self.created_at);
        formatter.field("updated_at", &self.updated_at);
        formatter.field("policy_engine_arn", &self.policy_engine_arn);
        formatter.field("status", &self.status);
        formatter.field("status_reasons", &self.status_reasons);
        formatter.finish()
    }
}
impl PolicyEngine {
    /// Creates a new builder-style object to manufacture [`PolicyEngine`](crate::types::PolicyEngine).
    pub fn builder() -> crate::types::builders::PolicyEngineBuilder {
        crate::types::builders::PolicyEngineBuilder::default()
    }
}

/// A builder for [`PolicyEngine`](crate::types::PolicyEngine).
#[derive(::std::clone::Clone, ::std::cmp::PartialEq, ::std::default::Default)]
#[non_exhaustive]
pub struct PolicyEngineBuilder {
    pub(crate) policy_engine_id: ::std::option::Option<::std::string::String>,
    pub(crate) name: ::std::option::Option<::std::string::String>,
    pub(crate) description: ::std::option::Option<::std::string::String>,
    pub(crate) created_at: ::std::option::Option<::aws_smithy_types::DateTime>,
    pub(crate) updated_at: ::std::option::Option<::aws_smithy_types::DateTime>,
    pub(crate) policy_engine_arn: ::std::option::Option<::std::string::String>,
    pub(crate) status: ::std::option::Option<crate::types::PolicyEngineStatus>,
    pub(crate) status_reasons: ::std::option::Option<::std::vec::Vec<::std::string::String>>,
}
impl PolicyEngineBuilder {
    /// <p>The unique identifier for the policy engine. This system-generated identifier consists of the user name plus a 10-character generated suffix and serves as the primary key for policy engine operations.</p>
    /// This field is required.
    pub fn policy_engine_id(mut self, input: impl ::std::convert::Into<::std::string::String>) -> Self {
        self.policy_engine_id = ::std::option::Option::Some(input.into());
        self
    }
    /// <p>The unique identifier for the policy engine. This system-generated identifier consists of the user name plus a 10-character generated suffix and serves as the primary key for policy engine operations.</p>
    pub fn set_policy_engine_id(mut self, input: ::std::option::Option<::std::string::String>) -> Self {
        self.policy_engine_id = input;
        self
    }
    /// <p>The unique identifier for the policy engine. This system-generated identifier consists of the user name plus a 10-character generated suffix and serves as the primary key for policy engine operations.</p>
    pub fn get_policy_engine_id(&self) -> &::std::option::Option<::std::string::String> {
        &self.policy_engine_id
    }
    /// <p>The customer-assigned immutable name for the policy engine. This human-readable identifier must be unique within the account and cannot exceed 48 characters.</p>
    /// This field is required.
    pub fn name(mut self, input: impl ::std::convert::Into<::std::string::String>) -> Self {
        self.name = ::std::option::Option::Some(input.into());
        self
    }
    /// <p>The customer-assigned immutable name for the policy engine. This human-readable identifier must be unique within the account and cannot exceed 48 characters.</p>
    pub fn set_name(mut self, input: ::std::option::Option<::std::string::String>) -> Self {
        self.name = input;
        self
    }
    /// <p>The customer-assigned immutable name for the policy engine. This human-readable identifier must be unique within the account and cannot exceed 48 characters.</p>
    pub fn get_name(&self) -> &::std::option::Option<::std::string::String> {
        &self.name
    }
    /// <p>A human-readable description of the policy engine's purpose and scope. Limited to 4,096 characters, this helps administrators understand the policy engine's role in the overall governance strategy.</p>
    pub fn description(mut self, input: impl ::std::convert::Into<::std::string::String>) -> Self {
        self.description = ::std::option::Option::Some(input.into());
        self
    }
    /// <p>A human-readable description of the policy engine's purpose and scope. Limited to 4,096 characters, this helps administrators understand the policy engine's role in the overall governance strategy.</p>
    pub fn set_description(mut self, input: ::std::option::Option<::std::string::String>) -> Self {
        self.description = input;
        self
    }
    /// <p>A human-readable description of the policy engine's purpose and scope. Limited to 4,096 characters, this helps administrators understand the policy engine's role in the overall governance strategy.</p>
    pub fn get_description(&self) -> &::std::option::Option<::std::string::String> {
        &self.description
    }
    /// <p>The timestamp when the policy engine was originally created. This is automatically set by the service and used for auditing and lifecycle management.</p>
    /// This field is required.
    pub fn created_at(mut self, input: ::aws_smithy_types::DateTime) -> Self {
        self.created_at = ::std::option::Option::Some(input);
        self
    }
    /// <p>The timestamp when the policy engine was originally created. This is automatically set by the service and used for auditing and lifecycle management.</p>
    pub fn set_created_at(mut self, input: ::std::option::Option<::aws_smithy_types::DateTime>) -> Self {
        self.created_at = input;
        self
    }
    /// <p>The timestamp when the policy engine was originally created. This is automatically set by the service and used for auditing and lifecycle management.</p>
    pub fn get_created_at(&self) -> &::std::option::Option<::aws_smithy_types::DateTime> {
        &self.created_at
    }
    /// <p>The timestamp when the policy engine was last modified. This tracks the most recent changes to the policy engine configuration or metadata.</p>
    /// This field is required.
    pub fn updated_at(mut self, input: ::aws_smithy_types::DateTime) -> Self {
        self.updated_at = ::std::option::Option::Some(input);
        self
    }
    /// <p>The timestamp when the policy engine was last modified. This tracks the most recent changes to the policy engine configuration or metadata.</p>
    pub fn set_updated_at(mut self, input: ::std::option::Option<::aws_smithy_types::DateTime>) -> Self {
        self.updated_at = input;
        self
    }
    /// <p>The timestamp when the policy engine was last modified. This tracks the most recent changes to the policy engine configuration or metadata.</p>
    pub fn get_updated_at(&self) -> &::std::option::Option<::aws_smithy_types::DateTime> {
        &self.updated_at
    }
    /// <p>The Amazon Resource Name (ARN) of the policy engine. This globally unique identifier can be used for cross-service references and IAM policy statements.</p>
    /// This field is required.
    pub fn policy_engine_arn(mut self, input: impl ::std::convert::Into<::std::string::String>) -> Self {
        self.policy_engine_arn = ::std::option::Option::Some(input.into());
        self
    }
    /// <p>The Amazon Resource Name (ARN) of the policy engine. This globally unique identifier can be used for cross-service references and IAM policy statements.</p>
    pub fn set_policy_engine_arn(mut self, input: ::std::option::Option<::std::string::String>) -> Self {
        self.policy_engine_arn = input;
        self
    }
    /// <p>The Amazon Resource Name (ARN) of the policy engine. This globally unique identifier can be used for cross-service references and IAM policy statements.</p>
    pub fn get_policy_engine_arn(&self) -> &::std::option::Option<::std::string::String> {
        &self.policy_engine_arn
    }
    /// <p>The current status of the policy engine.</p>
    /// This field is required.
    pub fn status(mut self, input: crate::types::PolicyEngineStatus) -> Self {
        self.status = ::std::option::Option::Some(input);
        self
    }
    /// <p>The current status of the policy engine.</p>
    pub fn set_status(mut self, input: ::std::option::Option<crate::types::PolicyEngineStatus>) -> Self {
        self.status = input;
        self
    }
    /// <p>The current status of the policy engine.</p>
    pub fn get_status(&self) -> &::std::option::Option<crate::types::PolicyEngineStatus> {
        &self.status
    }
    /// Appends an item to `status_reasons`.
    ///
    /// To override the contents of this collection use [`set_status_reasons`](Self::set_status_reasons).
    ///
    /// <p>Additional information about the policy engine status. This provides details about any failures or the current state of the policy engine lifecycle.</p>
    pub fn status_reasons(mut self, input: impl ::std::convert::Into<::std::string::String>) -> Self {
        let mut v = self.status_reasons.unwrap_or_default();
        v.push(input.into());
        self.status_reasons = ::std::option::Option::Some(v);
        self
    }
    /// <p>Additional information about the policy engine status. This provides details about any failures or the current state of the policy engine lifecycle.</p>
    pub fn set_status_reasons(mut self, input: ::std::option::Option<::std::vec::Vec<::std::string::String>>) -> Self {
        self.status_reasons = input;
        self
    }
    /// <p>Additional information about the policy engine status. This provides details about any failures or the current state of the policy engine lifecycle.</p>
    pub fn get_status_reasons(&self) -> &::std::option::Option<::std::vec::Vec<::std::string::String>> {
        &self.status_reasons
    }
    /// Consumes the builder and constructs a [`PolicyEngine`](crate::types::PolicyEngine).
    /// This method will fail if any of the following fields are not set:
    /// - [`policy_engine_id`](crate::types::builders::PolicyEngineBuilder::policy_engine_id)
    /// - [`name`](crate::types::builders::PolicyEngineBuilder::name)
    /// - [`created_at`](crate::types::builders::PolicyEngineBuilder::created_at)
    /// - [`updated_at`](crate::types::builders::PolicyEngineBuilder::updated_at)
    /// - [`policy_engine_arn`](crate::types::builders::PolicyEngineBuilder::policy_engine_arn)
    /// - [`status`](crate::types::builders::PolicyEngineBuilder::status)
    /// - [`status_reasons`](crate::types::builders::PolicyEngineBuilder::status_reasons)
    pub fn build(self) -> ::std::result::Result<crate::types::PolicyEngine, ::aws_smithy_types::error::operation::BuildError> {
        ::std::result::Result::Ok(crate::types::PolicyEngine {
            policy_engine_id: self.policy_engine_id.ok_or_else(|| {
                ::aws_smithy_types::error::operation::BuildError::missing_field(
                    "policy_engine_id",
                    "policy_engine_id was not specified but it is required when building PolicyEngine",
                )
            })?,
            name: self.name.ok_or_else(|| {
                ::aws_smithy_types::error::operation::BuildError::missing_field(
                    "name",
                    "name was not specified but it is required when building PolicyEngine",
                )
            })?,
            description: self.description,
            created_at: self.created_at.ok_or_else(|| {
                ::aws_smithy_types::error::operation::BuildError::missing_field(
                    "created_at",
                    "created_at was not specified but it is required when building PolicyEngine",
                )
            })?,
            updated_at: self.updated_at.ok_or_else(|| {
                ::aws_smithy_types::error::operation::BuildError::missing_field(
                    "updated_at",
                    "updated_at was not specified but it is required when building PolicyEngine",
                )
            })?,
            policy_engine_arn: self.policy_engine_arn.ok_or_else(|| {
                ::aws_smithy_types::error::operation::BuildError::missing_field(
                    "policy_engine_arn",
                    "policy_engine_arn was not specified but it is required when building PolicyEngine",
                )
            })?,
            status: self.status.ok_or_else(|| {
                ::aws_smithy_types::error::operation::BuildError::missing_field(
                    "status",
                    "status was not specified but it is required when building PolicyEngine",
                )
            })?,
            status_reasons: self.status_reasons.ok_or_else(|| {
                ::aws_smithy_types::error::operation::BuildError::missing_field(
                    "status_reasons",
                    "status_reasons was not specified but it is required when building PolicyEngine",
                )
            })?,
        })
    }
}
impl ::std::fmt::Debug for PolicyEngineBuilder {
    fn fmt(&self, f: &mut ::std::fmt::Formatter<'_>) -> ::std::fmt::Result {
        let mut formatter = f.debug_struct("PolicyEngineBuilder");
        formatter.field("policy_engine_id", &self.policy_engine_id);
        formatter.field("name", &self.name);
        formatter.field("description", &"*** Sensitive Data Redacted ***");
        formatter.field("created_at", &self.created_at);
        formatter.field("updated_at", &self.updated_at);
        formatter.field("policy_engine_arn", &self.policy_engine_arn);
        formatter.field("status", &self.status);
        formatter.field("status_reasons", &self.status_reasons);
        formatter.finish()
    }
}
