// Code generated by software.amazon.smithy.rust.codegen.smithy-rs. DO NOT EDIT.

/// <p>Use ManagedCapacityConfiguration with the "SCALE_TO_AND_FROM_ZERO" ZeroCapacityStrategy to enable Amazon GameLift Servers to fully manage the MinSize value, switching between 0 and 1 based on game session activity. This is ideal for eliminating compute costs during periods of no game activity. It is particularly beneficial during development when you're away from your desk, iterating on builds for extended periods, in production environments serving low-traffic locations, or for games with long, predictable downtime windows. By automatically managing capacity between 0 and 1 instances, you avoid paying for idle instances while maintaining the ability to serve game sessions when demand arrives. Note that while scale-out is triggered immediately upon receiving a game session request, actual game session availability depends on your server process startup time, so this approach works best with multi-location Fleets where cold-start latency is tolerable. With a "MANUAL" ZeroCapacityStrategy Amazon GameLift Servers will not modify Fleet MinSize values automatically and will not scale out from zero instances in response to game sessions.</p>
#[non_exhaustive]
#[derive(::std::clone::Clone, ::std::cmp::PartialEq, ::std::fmt::Debug)]
pub struct ManagedCapacityConfiguration {
    /// <p>The strategy Amazon GameLift Servers will use to automatically scale your capacity to and from zero instances in response to game session activity. Game session activity refers to any active running sessions or game session requests.</p>
    /// <p>Possible ZeroCapacityStrategy types include:</p>
    /// <ul>
    /// <li>
    /// <p><b>MANUAL</b> -- (default value) Amazon GameLift Servers will not update capacity to and from zero on your behalf.</p></li>
    /// <li>
    /// <p><b>SCALE_TO_AND_FROM_ZERO</b> -- Amazon GameLift Servers will automatically scale out MinSize and DesiredInstances from 0 to 1 in response to a game session request, and will scale in MinSize and DesiredInstances to 0 after a period with no game session activity. The duration of this scale in period can be configured using ScaleInAfterInactivityMinutes.</p></li>
    /// </ul>
    pub zero_capacity_strategy: ::std::option::Option<crate::types::ZeroCapacityStrategy>,
    /// <p>Length of time, in minutes, that Amazon GameLift Servers will wait before scaling in your MinSize and DesiredInstances to 0 after a period with no game session activity. Default: 30 minutes.</p>
    pub scale_in_after_inactivity_minutes: ::std::option::Option<i32>,
}
impl ManagedCapacityConfiguration {
    /// <p>The strategy Amazon GameLift Servers will use to automatically scale your capacity to and from zero instances in response to game session activity. Game session activity refers to any active running sessions or game session requests.</p>
    /// <p>Possible ZeroCapacityStrategy types include:</p>
    /// <ul>
    /// <li>
    /// <p><b>MANUAL</b> -- (default value) Amazon GameLift Servers will not update capacity to and from zero on your behalf.</p></li>
    /// <li>
    /// <p><b>SCALE_TO_AND_FROM_ZERO</b> -- Amazon GameLift Servers will automatically scale out MinSize and DesiredInstances from 0 to 1 in response to a game session request, and will scale in MinSize and DesiredInstances to 0 after a period with no game session activity. The duration of this scale in period can be configured using ScaleInAfterInactivityMinutes.</p></li>
    /// </ul>
    pub fn zero_capacity_strategy(&self) -> ::std::option::Option<&crate::types::ZeroCapacityStrategy> {
        self.zero_capacity_strategy.as_ref()
    }
    /// <p>Length of time, in minutes, that Amazon GameLift Servers will wait before scaling in your MinSize and DesiredInstances to 0 after a period with no game session activity. Default: 30 minutes.</p>
    pub fn scale_in_after_inactivity_minutes(&self) -> ::std::option::Option<i32> {
        self.scale_in_after_inactivity_minutes
    }
}
impl ManagedCapacityConfiguration {
    /// Creates a new builder-style object to manufacture [`ManagedCapacityConfiguration`](crate::types::ManagedCapacityConfiguration).
    pub fn builder() -> crate::types::builders::ManagedCapacityConfigurationBuilder {
        crate::types::builders::ManagedCapacityConfigurationBuilder::default()
    }
}

/// A builder for [`ManagedCapacityConfiguration`](crate::types::ManagedCapacityConfiguration).
#[derive(::std::clone::Clone, ::std::cmp::PartialEq, ::std::default::Default, ::std::fmt::Debug)]
#[non_exhaustive]
pub struct ManagedCapacityConfigurationBuilder {
    pub(crate) zero_capacity_strategy: ::std::option::Option<crate::types::ZeroCapacityStrategy>,
    pub(crate) scale_in_after_inactivity_minutes: ::std::option::Option<i32>,
}
impl ManagedCapacityConfigurationBuilder {
    /// <p>The strategy Amazon GameLift Servers will use to automatically scale your capacity to and from zero instances in response to game session activity. Game session activity refers to any active running sessions or game session requests.</p>
    /// <p>Possible ZeroCapacityStrategy types include:</p>
    /// <ul>
    /// <li>
    /// <p><b>MANUAL</b> -- (default value) Amazon GameLift Servers will not update capacity to and from zero on your behalf.</p></li>
    /// <li>
    /// <p><b>SCALE_TO_AND_FROM_ZERO</b> -- Amazon GameLift Servers will automatically scale out MinSize and DesiredInstances from 0 to 1 in response to a game session request, and will scale in MinSize and DesiredInstances to 0 after a period with no game session activity. The duration of this scale in period can be configured using ScaleInAfterInactivityMinutes.</p></li>
    /// </ul>
    pub fn zero_capacity_strategy(mut self, input: crate::types::ZeroCapacityStrategy) -> Self {
        self.zero_capacity_strategy = ::std::option::Option::Some(input);
        self
    }
    /// <p>The strategy Amazon GameLift Servers will use to automatically scale your capacity to and from zero instances in response to game session activity. Game session activity refers to any active running sessions or game session requests.</p>
    /// <p>Possible ZeroCapacityStrategy types include:</p>
    /// <ul>
    /// <li>
    /// <p><b>MANUAL</b> -- (default value) Amazon GameLift Servers will not update capacity to and from zero on your behalf.</p></li>
    /// <li>
    /// <p><b>SCALE_TO_AND_FROM_ZERO</b> -- Amazon GameLift Servers will automatically scale out MinSize and DesiredInstances from 0 to 1 in response to a game session request, and will scale in MinSize and DesiredInstances to 0 after a period with no game session activity. The duration of this scale in period can be configured using ScaleInAfterInactivityMinutes.</p></li>
    /// </ul>
    pub fn set_zero_capacity_strategy(mut self, input: ::std::option::Option<crate::types::ZeroCapacityStrategy>) -> Self {
        self.zero_capacity_strategy = input;
        self
    }
    /// <p>The strategy Amazon GameLift Servers will use to automatically scale your capacity to and from zero instances in response to game session activity. Game session activity refers to any active running sessions or game session requests.</p>
    /// <p>Possible ZeroCapacityStrategy types include:</p>
    /// <ul>
    /// <li>
    /// <p><b>MANUAL</b> -- (default value) Amazon GameLift Servers will not update capacity to and from zero on your behalf.</p></li>
    /// <li>
    /// <p><b>SCALE_TO_AND_FROM_ZERO</b> -- Amazon GameLift Servers will automatically scale out MinSize and DesiredInstances from 0 to 1 in response to a game session request, and will scale in MinSize and DesiredInstances to 0 after a period with no game session activity. The duration of this scale in period can be configured using ScaleInAfterInactivityMinutes.</p></li>
    /// </ul>
    pub fn get_zero_capacity_strategy(&self) -> &::std::option::Option<crate::types::ZeroCapacityStrategy> {
        &self.zero_capacity_strategy
    }
    /// <p>Length of time, in minutes, that Amazon GameLift Servers will wait before scaling in your MinSize and DesiredInstances to 0 after a period with no game session activity. Default: 30 minutes.</p>
    pub fn scale_in_after_inactivity_minutes(mut self, input: i32) -> Self {
        self.scale_in_after_inactivity_minutes = ::std::option::Option::Some(input);
        self
    }
    /// <p>Length of time, in minutes, that Amazon GameLift Servers will wait before scaling in your MinSize and DesiredInstances to 0 after a period with no game session activity. Default: 30 minutes.</p>
    pub fn set_scale_in_after_inactivity_minutes(mut self, input: ::std::option::Option<i32>) -> Self {
        self.scale_in_after_inactivity_minutes = input;
        self
    }
    /// <p>Length of time, in minutes, that Amazon GameLift Servers will wait before scaling in your MinSize and DesiredInstances to 0 after a period with no game session activity. Default: 30 minutes.</p>
    pub fn get_scale_in_after_inactivity_minutes(&self) -> &::std::option::Option<i32> {
        &self.scale_in_after_inactivity_minutes
    }
    /// Consumes the builder and constructs a [`ManagedCapacityConfiguration`](crate::types::ManagedCapacityConfiguration).
    pub fn build(self) -> crate::types::ManagedCapacityConfiguration {
        crate::types::ManagedCapacityConfiguration {
            zero_capacity_strategy: self.zero_capacity_strategy,
            scale_in_after_inactivity_minutes: self.scale_in_after_inactivity_minutes,
        }
    }
}
