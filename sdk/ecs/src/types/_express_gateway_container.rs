// Code generated by software.amazon.smithy.rust.codegen.smithy-rs. DO NOT EDIT.

/// <p>Defines the configuration for the primary container in an Express service. This container receives traffic from the Application Load Balancer and runs your application code.</p>
/// <p>The container configuration includes the container image, port mapping, logging settings, environment variables, and secrets. The container image is the only required parameter, with sensible defaults provided for other settings.</p>
#[non_exhaustive]
#[derive(::std::clone::Clone, ::std::cmp::PartialEq, ::std::fmt::Debug)]
pub struct ExpressGatewayContainer {
    /// <p>The image used to start a container. This string is passed directly to the Docker daemon. Images in the Docker Hub registry are available by default. Other repositories are specified with either <code>repository-url/image:tag</code> or <code>repository-url/image@digest</code>.</p>
    /// <p>For Express services, the image typically contains a web application that listens on the specified container port. The image can be stored in Amazon ECR, Docker Hub, or any other container registry accessible to your execution role.</p>
    pub image: ::std::string::String,
    /// <p>The port number on the container that receives traffic from the load balancer. Default is 80.</p>
    pub container_port: ::std::option::Option<i32>,
    /// <p>The log configuration for the container.</p>
    pub aws_logs_configuration: ::std::option::Option<crate::types::ExpressGatewayServiceAwsLogsConfiguration>,
    /// <p>The configuration for repository credentials for private registry authentication.</p>
    pub repository_credentials: ::std::option::Option<crate::types::ExpressGatewayRepositoryCredentials>,
    /// <p>The command that is passed to the container.</p>
    pub command: ::std::option::Option<::std::vec::Vec<::std::string::String>>,
    /// <p>The environment variables to pass to the container.</p>
    pub environment: ::std::option::Option<::std::vec::Vec<crate::types::KeyValuePair>>,
    /// <p>The secrets to pass to the container.</p>
    pub secrets: ::std::option::Option<::std::vec::Vec<crate::types::Secret>>,
}
impl ExpressGatewayContainer {
    /// <p>The image used to start a container. This string is passed directly to the Docker daemon. Images in the Docker Hub registry are available by default. Other repositories are specified with either <code>repository-url/image:tag</code> or <code>repository-url/image@digest</code>.</p>
    /// <p>For Express services, the image typically contains a web application that listens on the specified container port. The image can be stored in Amazon ECR, Docker Hub, or any other container registry accessible to your execution role.</p>
    pub fn image(&self) -> &str {
        use std::ops::Deref;
        self.image.deref()
    }
    /// <p>The port number on the container that receives traffic from the load balancer. Default is 80.</p>
    pub fn container_port(&self) -> ::std::option::Option<i32> {
        self.container_port
    }
    /// <p>The log configuration for the container.</p>
    pub fn aws_logs_configuration(&self) -> ::std::option::Option<&crate::types::ExpressGatewayServiceAwsLogsConfiguration> {
        self.aws_logs_configuration.as_ref()
    }
    /// <p>The configuration for repository credentials for private registry authentication.</p>
    pub fn repository_credentials(&self) -> ::std::option::Option<&crate::types::ExpressGatewayRepositoryCredentials> {
        self.repository_credentials.as_ref()
    }
    /// <p>The command that is passed to the container.</p>
    ///
    /// If no value was sent for this field, a default will be set. If you want to determine if no value was sent, use `.command.is_none()`.
    pub fn command(&self) -> &[::std::string::String] {
        self.command.as_deref().unwrap_or_default()
    }
    /// <p>The environment variables to pass to the container.</p>
    ///
    /// If no value was sent for this field, a default will be set. If you want to determine if no value was sent, use `.environment.is_none()`.
    pub fn environment(&self) -> &[crate::types::KeyValuePair] {
        self.environment.as_deref().unwrap_or_default()
    }
    /// <p>The secrets to pass to the container.</p>
    ///
    /// If no value was sent for this field, a default will be set. If you want to determine if no value was sent, use `.secrets.is_none()`.
    pub fn secrets(&self) -> &[crate::types::Secret] {
        self.secrets.as_deref().unwrap_or_default()
    }
}
impl ExpressGatewayContainer {
    /// Creates a new builder-style object to manufacture [`ExpressGatewayContainer`](crate::types::ExpressGatewayContainer).
    pub fn builder() -> crate::types::builders::ExpressGatewayContainerBuilder {
        crate::types::builders::ExpressGatewayContainerBuilder::default()
    }
}

/// A builder for [`ExpressGatewayContainer`](crate::types::ExpressGatewayContainer).
#[derive(::std::clone::Clone, ::std::cmp::PartialEq, ::std::default::Default, ::std::fmt::Debug)]
#[non_exhaustive]
pub struct ExpressGatewayContainerBuilder {
    pub(crate) image: ::std::option::Option<::std::string::String>,
    pub(crate) container_port: ::std::option::Option<i32>,
    pub(crate) aws_logs_configuration: ::std::option::Option<crate::types::ExpressGatewayServiceAwsLogsConfiguration>,
    pub(crate) repository_credentials: ::std::option::Option<crate::types::ExpressGatewayRepositoryCredentials>,
    pub(crate) command: ::std::option::Option<::std::vec::Vec<::std::string::String>>,
    pub(crate) environment: ::std::option::Option<::std::vec::Vec<crate::types::KeyValuePair>>,
    pub(crate) secrets: ::std::option::Option<::std::vec::Vec<crate::types::Secret>>,
}
impl ExpressGatewayContainerBuilder {
    /// <p>The image used to start a container. This string is passed directly to the Docker daemon. Images in the Docker Hub registry are available by default. Other repositories are specified with either <code>repository-url/image:tag</code> or <code>repository-url/image@digest</code>.</p>
    /// <p>For Express services, the image typically contains a web application that listens on the specified container port. The image can be stored in Amazon ECR, Docker Hub, or any other container registry accessible to your execution role.</p>
    /// This field is required.
    pub fn image(mut self, input: impl ::std::convert::Into<::std::string::String>) -> Self {
        self.image = ::std::option::Option::Some(input.into());
        self
    }
    /// <p>The image used to start a container. This string is passed directly to the Docker daemon. Images in the Docker Hub registry are available by default. Other repositories are specified with either <code>repository-url/image:tag</code> or <code>repository-url/image@digest</code>.</p>
    /// <p>For Express services, the image typically contains a web application that listens on the specified container port. The image can be stored in Amazon ECR, Docker Hub, or any other container registry accessible to your execution role.</p>
    pub fn set_image(mut self, input: ::std::option::Option<::std::string::String>) -> Self {
        self.image = input;
        self
    }
    /// <p>The image used to start a container. This string is passed directly to the Docker daemon. Images in the Docker Hub registry are available by default. Other repositories are specified with either <code>repository-url/image:tag</code> or <code>repository-url/image@digest</code>.</p>
    /// <p>For Express services, the image typically contains a web application that listens on the specified container port. The image can be stored in Amazon ECR, Docker Hub, or any other container registry accessible to your execution role.</p>
    pub fn get_image(&self) -> &::std::option::Option<::std::string::String> {
        &self.image
    }
    /// <p>The port number on the container that receives traffic from the load balancer. Default is 80.</p>
    pub fn container_port(mut self, input: i32) -> Self {
        self.container_port = ::std::option::Option::Some(input);
        self
    }
    /// <p>The port number on the container that receives traffic from the load balancer. Default is 80.</p>
    pub fn set_container_port(mut self, input: ::std::option::Option<i32>) -> Self {
        self.container_port = input;
        self
    }
    /// <p>The port number on the container that receives traffic from the load balancer. Default is 80.</p>
    pub fn get_container_port(&self) -> &::std::option::Option<i32> {
        &self.container_port
    }
    /// <p>The log configuration for the container.</p>
    pub fn aws_logs_configuration(mut self, input: crate::types::ExpressGatewayServiceAwsLogsConfiguration) -> Self {
        self.aws_logs_configuration = ::std::option::Option::Some(input);
        self
    }
    /// <p>The log configuration for the container.</p>
    pub fn set_aws_logs_configuration(mut self, input: ::std::option::Option<crate::types::ExpressGatewayServiceAwsLogsConfiguration>) -> Self {
        self.aws_logs_configuration = input;
        self
    }
    /// <p>The log configuration for the container.</p>
    pub fn get_aws_logs_configuration(&self) -> &::std::option::Option<crate::types::ExpressGatewayServiceAwsLogsConfiguration> {
        &self.aws_logs_configuration
    }
    /// <p>The configuration for repository credentials for private registry authentication.</p>
    pub fn repository_credentials(mut self, input: crate::types::ExpressGatewayRepositoryCredentials) -> Self {
        self.repository_credentials = ::std::option::Option::Some(input);
        self
    }
    /// <p>The configuration for repository credentials for private registry authentication.</p>
    pub fn set_repository_credentials(mut self, input: ::std::option::Option<crate::types::ExpressGatewayRepositoryCredentials>) -> Self {
        self.repository_credentials = input;
        self
    }
    /// <p>The configuration for repository credentials for private registry authentication.</p>
    pub fn get_repository_credentials(&self) -> &::std::option::Option<crate::types::ExpressGatewayRepositoryCredentials> {
        &self.repository_credentials
    }
    /// Appends an item to `command`.
    ///
    /// To override the contents of this collection use [`set_command`](Self::set_command).
    ///
    /// <p>The command that is passed to the container.</p>
    pub fn command(mut self, input: impl ::std::convert::Into<::std::string::String>) -> Self {
        let mut v = self.command.unwrap_or_default();
        v.push(input.into());
        self.command = ::std::option::Option::Some(v);
        self
    }
    /// <p>The command that is passed to the container.</p>
    pub fn set_command(mut self, input: ::std::option::Option<::std::vec::Vec<::std::string::String>>) -> Self {
        self.command = input;
        self
    }
    /// <p>The command that is passed to the container.</p>
    pub fn get_command(&self) -> &::std::option::Option<::std::vec::Vec<::std::string::String>> {
        &self.command
    }
    /// Appends an item to `environment`.
    ///
    /// To override the contents of this collection use [`set_environment`](Self::set_environment).
    ///
    /// <p>The environment variables to pass to the container.</p>
    pub fn environment(mut self, input: crate::types::KeyValuePair) -> Self {
        let mut v = self.environment.unwrap_or_default();
        v.push(input);
        self.environment = ::std::option::Option::Some(v);
        self
    }
    /// <p>The environment variables to pass to the container.</p>
    pub fn set_environment(mut self, input: ::std::option::Option<::std::vec::Vec<crate::types::KeyValuePair>>) -> Self {
        self.environment = input;
        self
    }
    /// <p>The environment variables to pass to the container.</p>
    pub fn get_environment(&self) -> &::std::option::Option<::std::vec::Vec<crate::types::KeyValuePair>> {
        &self.environment
    }
    /// Appends an item to `secrets`.
    ///
    /// To override the contents of this collection use [`set_secrets`](Self::set_secrets).
    ///
    /// <p>The secrets to pass to the container.</p>
    pub fn secrets(mut self, input: crate::types::Secret) -> Self {
        let mut v = self.secrets.unwrap_or_default();
        v.push(input);
        self.secrets = ::std::option::Option::Some(v);
        self
    }
    /// <p>The secrets to pass to the container.</p>
    pub fn set_secrets(mut self, input: ::std::option::Option<::std::vec::Vec<crate::types::Secret>>) -> Self {
        self.secrets = input;
        self
    }
    /// <p>The secrets to pass to the container.</p>
    pub fn get_secrets(&self) -> &::std::option::Option<::std::vec::Vec<crate::types::Secret>> {
        &self.secrets
    }
    /// Consumes the builder and constructs a [`ExpressGatewayContainer`](crate::types::ExpressGatewayContainer).
    /// This method will fail if any of the following fields are not set:
    /// - [`image`](crate::types::builders::ExpressGatewayContainerBuilder::image)
    pub fn build(self) -> ::std::result::Result<crate::types::ExpressGatewayContainer, ::aws_smithy_types::error::operation::BuildError> {
        ::std::result::Result::Ok(crate::types::ExpressGatewayContainer {
            image: self.image.ok_or_else(|| {
                ::aws_smithy_types::error::operation::BuildError::missing_field(
                    "image",
                    "image was not specified but it is required when building ExpressGatewayContainer",
                )
            })?,
            container_port: self.container_port,
            aws_logs_configuration: self.aws_logs_configuration,
            repository_credentials: self.repository_credentials,
            command: self.command,
            environment: self.environment,
            secrets: self.secrets,
        })
    }
}
